//................................................................................................................
//.................................................KERNEL_SCREEN SECTION..........................................
//................................................................................................................
#include "../drivers/screen.h"

//................................................................................................................
//.................................................KERNEL_UTILS SECTION...........................................
//................................................................................................................

#include "utils.h"

//................................................................................................................
//.................................................KERNEL_SCREEN_PORTS_SECTION....................................
//................................................................................................................

#include "../drivers/ports.h"
#include "../drivers/keyboard.h"

//................................................................................................................
//.................................................KERNEL_INTERRUPT SECTION.......................................
//................................................................................................................

#include "../cpu/isr_irq.h"
#include "../cpu/idt.h"
#include "../cpu/timer.h"

//................................................................................................................
//.................................................KERNEL_ENTRY SECTION...........................................
//................................................................................................................

#include "kernel.h"

int main()
{
	isr_install();
	irq_install();

	clear_screen();

	kprint("Type something, it will go through the kernel\n"
        "Type END to halt the CPU\n> ");
}

void user_input(char buffer[])
{
	if (strcmp(buffer, "END") == 0)
	{
		kprint("Stop the CPU\n");
		asm volatile("hlt");
	}

	kprint("You said: ");
	kprint(buffer);
	kprint("\n> ");
}
